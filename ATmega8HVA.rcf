# vim:ts=4 sts=0 sw=4

ADMIN
	PART_NAME=ATmega8HVA
	CORE_VERSION=V2E
	SPEED=4MHZ
	SIGNATURE=$1E9310
	TOGGLE_PIN=Y
	OSCCAL=8
	PROGIF=isp,hvsp,dw

MEMORY
	FLASH=8192,128
	EEPROM=256,4
	IRAM=512,$100
	ERAM=NA,NA

BOOT
	RWW=0,0
	NRWW=0,0

INTERRUPTS
	$0000=RESET
	$0001=BPINT
	$0002=VREGMON
	$0003=INT0
	$0004=INT1
	$0005=INT2
	$0006=WDT
	$0007=TIMER1_IC
	$0008=TIMER1_COMPA
	$0009=TIMER1_COMPB
	$000A=TIMER1_OVF
	$000B=TIMER0_IC
	$000C=TIMER0_COMPA
	$000D=TIMER0_COMPB
	$000E=TIMER0_OVF
	$000F=SPI;STC
	$0010=VADC
	$0011=CCADC_CONV
	$0012=CCADC_REG_CUR
	$0013=CCADC_ACC
	$014=EE READY

OCD
	REV=1
	OCDR=$31
	ID=$9310
	IF=DebugWire
	ucRead=7F01E0F0FB3FB8E0
	ucWrite=370100E0FB1FA8E0
	ucExtRead=53C200573303000000000000000103007F03ED7F
	ucExtWrite=50C200503303000000000000000003007000ED3F
	ucEepromInst=BDF2BDE1BBCFB400BE01B601BC00BBBF99F9BBAF
	ucFlashInst=B60111
	ucUpperExtIOLoc=$FE

IO_MODULE
	AD_CONVERTER
		LIST=[VADMUX:VADCH:VADCL:VADCSR]
		LINK=[VADCH:VADCL]
	BANDGAP
		LIST=[BGCRR:BGCCR]
	BATTERY_PROTECTION
		LIST=[BPPLR:BPCR:BPHCTR:BPOCTR:BPSCTR:BPCHCD:BPDHCD:BPCOCD:BPDOCD:BPSCD:BPIFR:BPIMSK]
	BOOT_LOAD
		LIST=[SPMCSR]
	COULOMB_COUNTER
		LIST=[CADCSRA:CADCSRB:CADICH:CADICL:CADAC3:CADAC2:CADAC1:CADAC0:CADRC]
		LINK=[CADICH:CADICL];[CADAC3:CADAC2:CADAC1:CADAC0]
	CPU
		LIST=[SREG:SPH:SPL:MCUCR:MCUSR:FOSCCAL:OSICSR:SMCR:GPIOR2:GPIOR1:GPIOR0:DIDR0:PRR0:CLKPR]
		LINK=[SPH:SPL]
	EEPROM
		LIST=[EEAR:EEDR:EECR]
	EXTERNAL_INTERRUPT
		LIST=[EICRA:EIMSK:EIFR]
	FET
		LIST=[FCSR]
	PORTA
		LIST=[PORTA:DDRA:PINA]
	PORTB
		LIST=[PORTB:DDRB:PINB]
	PORTC
		LIST=[PORTC:PINC]
	SPI
		LIST=[SPDR:SPSR:SPCR]
	TIMER_COUNTER_0
		LIST=[TCCR0A:TCCR0B:TCNT0H:TCNT0L:OCR0A:OCR0B:TIMSK0:TIFR0]
		LINK=[TCNT0H:TCNT0L]
	TIMER_COUNTER_1
		LIST=[TCCR1A:TCCR1B:TCNT1H:TCNT1L:OCR1A:OCR1B:TIMSK1:TIFR1:GTCCR]
		LINK=[TCNT1H:TCNT1L];[OCR1AH:OCR1AL]
	VOLTAGE_REGULATOR
		LIST=[ROCR]
	WATCHDOG
		LIST=[WDTCSR]

IO_PORTS
	PINA=$20,PINA1-1,PINA0-0
	DDRA=$21,DDA1-1,DDA0-0
	PORTA=$22,PORTA1-1,PORTA0-0
	PINB=$23,PINB3-3,PINB2-2,PINB1-1,PINB0-0
	DDRB=$24,DDB3-3,DDB2-2,DDB1-1,DDB0-0
	PORTB=$25,PORTB3-3,PORTB2-2,PORTB1-1,PORTB0-0
	PINC=$26,PINC0-0
	PORTC=$28,PORTC0-0
	TIFR0=$35,ICF0-3,OCF0B-2,OCF0A-1,TOV0-0
	TIFR1=$36,ICF1-3,OCF1B-2,OCF1A-1,TOV1-0
	OSICSR=$37,OSISEL0-4,OSIST-1,OSIEN-0
	EIFR=$3C,INTF2-2,INTF1-1,INTF0-0
	EIMSK=$3D,INT2-2,INT1-1,INT0-0
	GPIOR0=$3E,GPIOR07-7,GPIOR06-6,GPIOR05-5,GPIOR04-4,GPIOR03-3,GPIOR02-2,GPIOR01-1,GPIOR00-0
	EECR=$3F,EEPM1-5,EEPM0-4,EERIE-3,EEMPE-2,EEPE-1,EERE-0
	EEDR=$40,EEDR7-7,EEDR6-6,EEDR5-5,EEDR4-4,EEDR3-3,EEDR2-2,EEDR1-1,EEDR0-0
	EEAR=$41,EEAR7-7,EEAR6-6,EEAR5-5,EEAR4-4,EEAR3-3,EEAR2-2,EEAR1-1,EEAR0-0
	GTCCR=$43,TSM-7,PSRSYNC-0
	TCCR0A=$44,TCW0-7,ICEN0-6,ICNC0-5,ICES0-4,ICS0-3,WGM00-0
	TCCR0B=$45,CS02-2,CS01-1,CS00-0
	TCNT0L=$46,TCNT0L7-7,TCNT0L6-6,TCNT0L5-5,TCNT0L4-4,TCNT0L3-3,TCNT0L2-2,TCNT0L1-1,TCNT0L0-0
	TCNT0H=$47,TCNT0H7-7,TCNT0H6-6,TCNT0H5-5,TCNT0H4-4,TCNT0H3-3,TCNT0H2-2,TCNT0H1-1,TCNT0H0-0
	OCR0A=$48,OCR0A7-7,OCR0A6-6,OCR0A5-5,OCR0A4-4,OCR0A3-3,OCR0A2-2,OCR0A1-1,OCR0A0-0
	OCR0B=$49,OCR0B7-7,OCR0B6-6,OCR0B5-5,OCR0B4-4,OCR0B3-3,OCR0B2-2,OCR0B1-1,OCR0B0-0
	GPIOR1=$4A,GPIOR17-7,GPIOR16-6,GPIOR15-5,GPIOR14-4,GPIOR13-3,GPIOR12-2,GPIOR11-1,GPIOR10-0
	GPIOR2=$4B,GPIOR27-7,GPIOR26-6,GPIOR25-5,GPIOR24-4,GPIOR23-3,GPIOR22-2,GPIOR21-1,GPIOR20-0
	SPCR=$4c,SPIE-7,SPE-6,DORD-5,MSTR-4,CPOL-3,CPHA-2,SPR1-1,SPR0-0
	SPSR=$4d,SPIF-7,WCOL-6,SPI2X-0
	SPDR=$4e,SPDR7-7,SPDR6-6,SPDR5-5,SPDR4-4,SPDR3-3,SPDR2-2,SPDR1-1,SPDR0-0
	DWDR=$51
	SMCR=$53,SM2-3,SM1-2,SM0-1,SE-0
	MCUSR=$54,OCDRF-4,WDRF-3,BODRF-2,EXTRF-1,PORF-0
	MCUCR=$55,CKOE-5,PUD-4
	SPMCSR=$57,SIGRD-5,CTPB-4,RFLB-3,PGWRT-2,PGERS-1,SPMEN-0
	SPL=$5D,SP7-7,SP6-6,SP5-5,SP4-4,SP3-3,SP2-2,SP1-1,SP0-0
	SPH=$5E,SP9-1,SP8-0
	SREG=$5F,I-7,T-6,H-5,S-4,V-3,N-2,Z-1,C-0
	WDTCSR=$60,WDIF-7,WDIE-6,WDP3-5,WDCE-4,WDE-3,WDP2-2,WDP1-1,WDP0-0
	CLKPR=$61,CLKPCE-7,CLKPS1-1,CLKPS0-0
	PRR0=$64,PRVRM-5,PRSPI-3,PRTIM1-2,PRTIM0-1,PRVADC-0
	FOSCCAL=$66,FCAL7-7,FCAL6-6,FCAL5-5,FCAL4-4,FCAL3-3,FCAL2-2,FCAL1-1,FCAL0-0
	EICRA=$69,ISC21-5,ISC20-4,ISC11-3,ISC10-2,ISC01-1,ISC00-0
	TIMSK0=$6E,ICIE0-3,OCIE0B-2,OCIE0A-1,TOIE0-0
	TIMSK1=$6F,ICIE1-3,OCIE1B-2,OCIE1A-1,TOIE1-0
	VADCL=$78,VADC7-7,VADC6-6,VADC5-5,VADC4-4,VADC3-3,VADC2-2,VADC1-1,VADC0-0
	VADCH=$79,VADC11-3,VADC10-2,VADC9-1,VADC8-0
	VADCSR=$7A,VADEN-3,VADSC-2,VADCCIF-1,VADCCIE-0
	VADMUX=$7C,VADMUX3-3,VADMUX2-2,VADMUX1-1,VADMUX0-0
	DIDR0=$7E,PA1DID-1,PA0DID-0
	TCCR1A=$80,TCW1-7,ICEN1-6,ICNC1-5,ICES1-4,ICS1-3,WGM10-0
	TCCR1B=$81,CS12-2,CS11-1,CS10-0
	TCNT1L=$84,TCNT1L7-7,TCNT1L6-6,TCNT1L5-5,TCNT1L4-4,TCNT1L3-3,TCNT1L2-2,TCNT1L1-1,TCNT1L0-0
	TCNT1H=$85,TCNT1H7-7,TCNT1H6-6,TCNT1H5-5,TCNT1H4-4,TCNT1H3-3,TCNT1H2-2,TCNT1H1-1,TCNT1H0-0
	OCR1A=$88,OCR1A7-7,OCR1A6-6,OCR1A5-5,OCR1A4-4,OCR1A3-3,OCR1A2-2,OCR1A1-1,OCR1A0-0
	OCR1B=$89,OCR1B7-7,OCR1B6-6,OCR1B5-5,OCR1B4-4,OCR1B3-3,OCR1B2-2,OCR1B1-1,OCR1B0-0
	ROCR=$C8,ROCS-7,ROCWIF-1,ROCWIE-0
	BGCCR=$D0,BGD-7,BGCC5-5,BGCC4-4,BGCC3-3,BGCC2-2,BGCC1-1,BGCC0-0
	BGCRR=$D1,BGCR7-7,BGCR6-6,BGCR5-5,BGCR4-4,BGCR3-3,BGCR2-2,BGCR1-1,BGCR0-0
	CADAC0=$E0,CADAC07-7,CADAC06-6,CADAC05-5,CADAC04-4,CADAC03-3,CADAC02-2,CADAC01-1,CADAC00-0
	CADAC1=$E1,CADAC15-7,CADAC14-6,CADAC13-5,CADAC12-4,CADAC11-3,CADAC10-2,CADAC09-1,CADAC08-0
	CADAC2=$E2,CADAC23-7,CADAC22-6,CADAC21-5,CADAC20-4,CADAC19-3,CADAC18-2,CADAC17-1,CADAC16-0
	CADAC3=$E3,CADAC31-7,CADAC30-6,CADAC29-5,CADAC28-4,CADAC27-3,CADAC26-2,CADAC25-1,CADAC24-0
	CADCSRA=$E4,CADEN-7,CADPOL-6,CADUB-5,CADAS1-4,CADAS0-3,CADSI1-2,CADSI0-1,CADSE-0
	CADCSRB=$E5,CADACIE-6,CADRCIE-5,CADICIE-4,CADACIF-2,CADRCIF-1,CADICIF-0
	CADRC=$E6,CADRC7-7,CADRC6-6,CADRC5-5,CADRC4-4,CADRC3-3,CADRC2-2,CADRC1-1,CADRC0-0
	CADICL=$E8,CADICL7-7,CADICL6-6,CADICL5-5,CADICL4-4,CADICL3-3,CADICL2-2,CADICL1-1,CADICL0-0
	CADICH=$E9,CADICH7-7,CADICH6-6,CADICH5-5,CADICH4-4,CADICH3-3,CADICH2-2,CADICH1-1,CADICH0-0
	FCSR=$F0,DUVRD-3,CPS-2,DFE-1,CFE-0
	BPIMSK=$F2,SCIE-4,DOCIE-3,COCIE-2,DHCIE-1,CHCIE-0
	BPIFR=$F3,SCIF-4,DOCIF-3,COCIF-2,DHCIF-1,CHCIF-0
	BPSCD=$F5,SCDL7-7,SCDL6-6,SCDL5-5,SCDL4-4,SCDL3-3,SCDL2-2,SCDL1-1,SCDL0-0
	BPDOCD=$F6,DOCDL7-7,DOCDL6-6,DOCDL5-5,DOCDL4-4,DOCDL3-3,DOCDL2-2,DOCDL1-1,DOCDL0-0
	BPCOCD=$F7,COCDL7-7,COCDL6-6,COCDL5-5,COCDL4-4,COCDL3-3,COCDL2-2,COCDL1-1,COCDL0-0
	BPDHCD=$F8,DHCDL7-7,DHCDL6-6,DHCDL5-5,DHCDL4-4,DHCDL3-3,DHCDL2-2,DHCDL1-1,DHCDL0-0
	BPCHCD=$F9,CHCDL7-7,CHCDL6-6,CHCDL5-5,CHCDL4-4,CHCDL3-3,CHCDL2-2,CHCDL1-1,CHCDL0-0
	BPSCTR=$FA,SCPT6-6,SCPT5-5,SCPT4-4,SCPT3-3,SCPT2-2,SCPT1-1,SCPT0-0
	BPOCTR=$FB,OCPT5-5,OCPT4-4,OCPT3-3,OCPT2-2,OCPT1-1,OCPT0-0
	BPHCTR=$FC,HCPT5-5,HCPT4-4,HCPT3-3,HCPT2-2,HCPT1-1,HCPT0-0
	BPCR=$FD,SCD-4,DOCD-3,COCD-2,DHCD-1,CHCD-0
	BPPLR=$FE,BPPLE-1,BPPL-0

STK500
	IspChipErase
		eraseDelay=20
		pollMethod=1
	IspProgramFlash
		mode=$41
		blockSize=128
		delay=10
		cmd1=$40
		cmd2=$4C
		cmd3=$00
		pollVal1=$00
		pollVal2=$00
	IspProgramEeprom
		mode=$41
		blockSize=4
		delay=20
		cmd1=$C1
		cmd2=$C2
		cmd3=$00
		pollVal1=$00
		pollVal2=$00
	HvspControlStack=4C0C1C2C3C647466687868687A6A6878787D6D0C80402010110804020308040F
	HvspEnterProgMode
		stabDelay=100
		cmdexeDelay=0
		synchCycles=6
		latchCycles=1
		toggleVtg=1
		powoffDelay=25
		resetDelay1=1
		resetDelay2=70
	HvspChipErase
		pollTimeout=40
		eraseTime=1
	HvspProgramFlash
		mode=$0D
		blockSize=256
		pollTimeout=6
	HvspProgramEeprom
		mode=$05
		blockSize=256
		pollTimeout=5

STK600

FUSES
	HIGH=$FD
		OSCSEL=$03,Oscillator Select
			$01=Default Oscillator Select
	LOW=$DF
		WDTON=$80,Watch-dog Timer always on
		EESAVE=$40,Preserve EEPROM through the Chip Erase cycle
		SPIEN=$20,Serial program downloading (SPI) enabled
		DWEN=$10,Debug Wire enable
		SELFPRGEN=$08,Self Programming enable
		SUT=$07,Select start-up time
			$00=Start-up time 6 CK/14 CK + 4 ms
			$01=Start-up time 6 CK/14 CK + 8 ms
			$02=Start-up time 6 CK/14 CK + 16 ms
			$03=Start-up time 6 CK/14 CK + 32 ms
			$04=Start-up time 6 CK/14 CK + 64 ms
			$05=Start-up time 6 CK/14 CK + 128 ms
			$06=Start-up time 6 CK/14 CK + 256 ms
			$07=Start-up time 6 CK/14 CK + 512 ms

LOCKBITS
	LB=$03,Memory Lock
		$00=Further programming and verification disabled
		$02=Further programming disabled
		$03=No memory lock features enabled


